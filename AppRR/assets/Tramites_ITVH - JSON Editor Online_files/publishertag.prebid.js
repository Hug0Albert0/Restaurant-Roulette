!function(){"use strict";function a(a){try{return a.localStorage}catch(a){return}}function b(a){try{return JSON.parse(a)}catch(a){return}}function c(a){var b,c=[""],d=0;return void 0!==a.exd&&(void 0!==a.exd.genimpids&&a.exd.genimpids.length>0&&(c=a.exd.genimpids),void 0!==a.exd.bidcachedurationseconds&&(d=a.exd.bidcachedurationseconds),b=a.exd.slots,delete a.exd),{genimpids:c,slots:b,bidcachedurationseconds:d}}function d(a){if(window.performance&&window.performance.getEntries)for(var b=window.performance.getEntries(),c=b.length-1;c>=0;--c){var d=b[c];if(d.name===a&&d.duration)return Math.round(d.duration)}}function e(a){switch(a.toLowerCase()){case"amp":return m.AMP;default:return m.Unspecified}}function f(a){var b="number"==typeof window.PREBID_TIMEOUT&&parseInt(window.PREBID_TIMEOUT,10);return a&&b?Math.min(a,b):a||b||void 0}function g(a){P.LOGLEVEL=a}function h(){var a=864e5,b=new n;if(b.checkLocalStorage()&&null===b.getItem(Q,a)){var c=new C("//static.criteo.net/js/ld/publishertag.prebid.js",void 0,void 0,!1);c.send(function(c){b.setItem(Q,c,a)},function(a,b){P.Error(b.toString())})}}function i(){var a=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(a+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return a=Math.floor(a/16),("x"===b?c:3&c|8).toString(16)})}function j(a,b){try{return decodeURIComponent(a)}catch(c){return void 0!==b?b:a}}function k(a){return"conditionalEvent"===a.name}function l(a){var b={push:function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if("undefined"!=typeof a)for(var c=0,d=a;c<d.length;c++){var e=d[c];"function"==typeof e&&e()}}};return a&&Array.isArray(a)&&b.push.apply(b,a),b}var m,n=function(){function b(b){this.EXPIRE_SUFFIX="_expires",this.CHECK_STORAGE_KEY="criteo_localstorage_check",this.localStorage=a(b||window)}return b.prototype.checkLocalStorage=function(){var a=this.CHECK_STORAGE_KEY;try{return this.localStorage.setItem(a,a),this.localStorage.removeItem(a),!0}catch(a){return!1}},b.prototype.removeItem=function(a){this.localStorage.removeItem(a),this.localStorage.removeItem(a+this.EXPIRE_SUFFIX)},b.prototype.getItem=function(a,b){var c=(new Date).getTime(),d=this.localStorage.getItem(a+this.EXPIRE_SUFFIX),e=d?parseInt(d,10):-1,f=e!==-1&&e<c,g=b&&(e===-1||e-c>b);return f||g?(this.removeItem(a),null):this.localStorage.getItem(a)},b.prototype.setItem=function(a,b,c){if(this.localStorage.setItem(a,b),c){var d=(new Date).getTime(),e=d+c;this.localStorage.setItem(a+this.EXPIRE_SUFFIX,e.toString())}},b}(),o=function(){function a(){this.localStorageHelper=new n,this.localStorageEnabled=this.localStorageHelper.checkLocalStorage()}return a.prototype.getMetrics=function(c){if(this.localStorageEnabled){var d=a.METRICS_STORAGE_KEY,e=this.localStorageHelper.getItem(d),f=e?b(e):[];return c&&this.localStorageHelper.removeItem(d),f}return[]},a.prototype.setMetrics=function(b){if(this.localStorageEnabled){var c=a.METRICS_STORAGE_KEY;this.localStorageHelper.setItem(c,JSON.stringify(b),36e5)}},a.prototype.storeMetric=function(c){if(this.localStorageEnabled){var d=a.METRICS_STORAGE_KEY,e=this.localStorageHelper.getItem(d),f=e?b(e):[];f.push(c),this.setMetrics(f)}},a.METRICS_STORAGE_KEY="criteo_pt_cdb_metrics",a}(),p=function(){function a(a,b,c,d,e,f,g,h){this.slots=a,this.context=b,this.metricsManager=c,this.urlBuilder=d,this.profileId=e,this.integrationMode=f,this.networkId=g,this.adapterVersion=h}return a.prototype.isValid=function(){return this.slots.length>0},a.prototype.getRequest=function(){for(var a=[],b=0,c=this.slots;b<c.length;b++){var d=c[b],e={impid:d.impId};if(void 0!==d.zoneId&&(e.zoneid=d.zoneId),void 0!==d.nativeCallback&&(e.native=!0),void 0!==d.transactionId&&(e.transactionid=d.transactionId),void 0!==d.publisherSubId&&(e.publishersubid=d.publisherSubId),void 0!==d.sizes){for(var f=[],g=0,h=d.sizes;g<h.length;g++){var i=h[g];f.push(i.width+"x"+i.height)}e.sizes=f}a.push(e)}var j={publisher:{url:this.context.highestAccessibleUrl},slots:a};void 0!==this.networkId&&(j.publisher.networkid=this.networkId);var k=this.metricsManager.getMetrics(!0);return k.length&&(j.previousBidFeedback=k),j},a.prototype.getUrl=function(){return this.urlBuilder.buildUrl(this.profileId,this.context,this.integrationMode,this.adapterVersion)},a}(),q=function(){function a(a,b,c,d,e,f){this.impId=a,this.zoneId=b,this.nativeCallback=c,this.transactionId=d,this.sizes=e,this.publisherSubId=f}return a}(),r=function(){function a(a){void 0===a&&(a=!0),a&&window.performance&&window.performance.now?this.now=window.performance.now.bind(window.performance):Date.now?this.now=Date.now:this.now=function(){return(new Date).getTime()}}return a.CreateRunning=function(){var b=new a;return b.start(),b},a.CreateWithStartTime=function(b){var c=new a(!1);return c.startTime=b,c},a.TimeSincePageLoad=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.timing&&window.performance.timing.navigationStart)return(new Date).getTime()-performance.timing.navigationStart}return 0},a.prototype.start=function(){this.startTime=this.now()},a.prototype.elapsed=function(){var a=this.now();return a-this.startTime},a}(),s=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m){this.impressionId=a,this.elapsed=b,this.isTimeout=c,this.pageLoadElapsed=d,this.adapterStartElapsed=e,this.cdbCallStartElapsed=f,this.cdbCallEndElapsed=g,this.setTargetingElapsed=h,this.adapterEndElapsed=i,this.adapterTimeout=j,this.adapterIsTimeout=k,this.zoneId=l,this.adUnitId=m}return a}(),t=function(){function a(){this.elapsed=0,this.isTimeout=!1,this.pageLoadElapsed=0,this.adapterStartElapsed=0,this.cdbCallStartElapsed=0,this.cdbCallEndElapsed=0,this.setTargetingElapsed=0,this.adapterEndElapsed=0}return a.prototype.withElapsed=function(a){return this.elapsed=a,this},a.prototype.withIsTimeout=function(a){return this.isTimeout=a,this},a.prototype.withPageLoadElapsed=function(a){return this.pageLoadElapsed=a,this},a.prototype.withAdapterStartElapsed=function(a){return this.adapterStartElapsed=a,this},a.prototype.withCdbCallStartElapsed=function(a){return this.cdbCallStartElapsed=a,this},a.prototype.withCdbCallEndElapsed=function(a){return this.cdbCallEndElapsed=a,this},a.prototype.withSetTargetingElapsed=function(a){return this.setTargetingElapsed=a,this},a.prototype.withAdapterEndElapsed=function(a){return this.adapterEndElapsed=a,this},a.prototype.withAdapterTimeout=function(a){return this.adapterTimeout=a,this},a.prototype.withZoneId=function(a){return this.zoneId=a,this},a.prototype.withAdUnitId=function(a){return this.adUnitId=a,this},a.prototype.build=function(a){var b;return void 0!==this.adapterTimeout&&(b=this.adapterEndElapsed>this.adapterTimeout),new s(a,this.elapsed,this.isTimeout,this.pageLoadElapsed,this.adapterStartElapsed,this.cdbCallStartElapsed,this.cdbCallEndElapsed,this.setTargetingElapsed,this.adapterEndElapsed,this.adapterTimeout,b,this.zoneId,this.adUnitId)},a}(),u=function(){function a(a,b){this.hasSetTargetingBeenCalled=!1,this.builder=new t,void 0!==a?this.timer=r.CreateWithStartTime(a):this.timer=r.CreateRunning();var c=this.timer.elapsed();this.builder.withAdapterStartElapsed(c),this.builder.withPageLoadElapsed(r.TimeSincePageLoad()-c),void 0!==b&&this.builder.withAdapterTimeout(b)}return a.prototype.sendRequest=function(a){this.url=a,this.sendTime=r.CreateRunning(),this.builder.withCdbCallStartElapsed(this.timer.elapsed())},a.prototype.requestReceived=function(a){void 0===a&&(a=!1),this.builder.withElapsed(d(this.url)||this.sendTime.elapsed()),this.builder.withCdbCallEndElapsed(this.timer.elapsed()),this.builder.withIsTimeout(a)},a.prototype.setTargeting=function(){this.hasSetTargetingBeenCalled||(this.builder.withSetTargetingElapsed(this.timer.elapsed()),this.hasSetTargetingBeenCalled=!0)},a.prototype.finish=function(a,b){this.builder.withAdapterEndElapsed(this.timer.elapsed()),b&&0!==b.length||(b=[""]);for(var c=0,d=b;c<d.length;c++){var e=d[c],f=void 0;"string"==typeof e?f=e:(f=e.imp_id,this.builder.withZoneId(e.zone_id),this.builder.withAdUnitId(e.ad_unit_id)),a.storeMetric(this.builder.build(f))}},a}(),v=function(){function a(){}return a.generateCacheBuster=function(){return Math.floor(99999999999*Math.random())},a}();!function(a){a[a.Unspecified=0]="Unspecified",a[a.AMP=1]="AMP"}(m||(m={}));var w,x=48,y=function(){function a(a){void 0===a&&(a=!1),this.auditMode=a}return a.prototype.buildUrl=function(b,c,d,e){void 0===d&&(d=m.Unspecified);var f="https:"===c.protocol?"https:":"http:",g=f+a.CRITEO_BIDDER_URL+this.getHandlerPath()+"?ptv="+x;return g+="&profileId="+String(b),g+=c.ctoIdOnPublisherDomain?"&idcpy="+c.ctoIdOnPublisherDomain:"",g+=c.idfs?"&idfs="+c.idfs:"",g+=c.secureId?"&sid="+c.secureId:"",g+=c.isOptOut?"&optout=1":"",d!==m.Unspecified&&(g+="&im="+d),void 0!==e&&(g+="&av="+String(e)),g+="&cb="+String(v.generateCacheBuster()),g+=c.getContextFlags()},a.prototype.getHandlerPath=function(){return this.auditMode?a.CRITEO_BIDDER_AUDIT_HANDLER:a.CRITEO_BIDDER_HANDLER},a.CRITEO_BIDDER_URL="//bidder.criteo.com/",a.CRITEO_BIDDER_HANDLER="cdb",a.CRITEO_BIDDER_AUDIT_HANDLER="prebid/audit",a}(),z=function(){function a(a,b){this.width=a,this.height=b}return a.prototype.toString=function(){return this.width+"x"+this.height},a}(),A=function(){function a(a,b,c,d){this.timer=new u(d.auctionStart,f(d.timeout)),this.auctionId=d.auctionId,this.bidRequests=c;for(var g,h,i=[],j=0,k=c;j<k.length;j++){var l=k[j];i.push(new q(l.adUnitCode,l.params.zoneId,l.params.nativeCallback,l.transactionId,l.sizes.map(function(a){return new z(a[0],a[1])}),l.params.publisherSubId)),g=l.params.networkId||g,l.params.integrationMode&&(h=e(l.params.integrationMode))}this.metricsManager=new o,this.requestBuilder=new p(i,window.criteo_pubtag.context,this.metricsManager,new y,a,h,g,b),this.url=this.requestBuilder.getUrl(),window.Criteo.prebid_adapters=window.Criteo.prebid_adapters||{},window.Criteo.prebid_adapters[this.auctionId]=this}return a.prototype.buildCdbUrl=function(){return this.url},a.prototype.buildCdbRequest=function(){return this.timer.sendRequest(this.url),this.requestBuilder.getRequest()},a.GetAllAdapters=function(){return window.Criteo.prebid_adapters},a.GetAdapter=function(b){var c="string"==typeof b?b:b.bidRequests[0].auctionId,d=a.GetAllAdapters();if(d&&c in d)return d[c]},a.prototype.createNativeAd=function(a,b,c){return window.criteo_prebid_native_slots=window.criteo_prebid_native_slots||{},window.criteo_prebid_native_slots[a]={callback:c,payload:b},'<script type="text/javascript">\n            var win = window;\n            for (var i = 0; i < 10; ++i) {\n                win = win.parent;\n                if (win.criteo_prebid_native_slots) {\n                    var responseSlot = win.criteo_prebid_native_slots["'+a+'"];\n                    responseSlot.callback(responseSlot.payload);\n                    break;\n                }\n            }\n        </script>'},a.prototype.getBidRequestById=function(a){for(var b=0,c=this.bidRequests;b<c.length;b++){var d=c[b];if(d.adUnitCode===a)return d}},a.prototype.interpretResponse=function(a,b){this.timer.requestReceived();var d=[];if(a.slots&&Array.isArray(a.slots))for(var e=0,f=a.slots;e<f.length;e++){var g=f[e],h=this.getBidRequestById(g.impid),i=h.bidId,j=void 0;j=g.native?this.createNativeAd(i,g.native,h.params.nativeCallback):g.creative,d.push({requestId:i,cpm:g.cpm,ad:j,currency:g.currency,netRevenue:!0,ttl:g.ttl||60,creativeId:i,width:g.width,height:g.height})}var k=c(a),l=k.slots||k.genimpids;return this.timer.finish(this.metricsManager,l),d},a.prototype.handleBidWon=function(a){var b=this.metricsManager.getMetrics(!1);for(var c in b)b[c].adUnitId===a.adUnitCode&&(b[c].adapterBidWon=!0);this.metricsManager.setMetrics(b)},a.prototype.handleBidTimeout=function(){this.timer.requestReceived(!0),this.timer.finish(this.metricsManager)},a.prototype.handleSetTargeting=function(){this.timer.setTargeting()},a}(),B=function(){function a(a){this.name=a}return a.prototype.eval=function(a){},a}(),C=function(){function a(a,b,c,d){void 0===d&&(d=!0),this.url=a,this.data=b,this.contentType=c,this.withCredentials=d}return a.prototype.send=function(a,b,c,d){var e=void 0!==this.data?"POST":"GET",f=this.getXMLHttpRequest(e,a,b,c,d);if(void 0!==f)f.send(this.data);else{var g=this.getXDomainRequest(e,a,b,c,d);void 0!==g&&g.send(this.data)}},a.prototype.getXMLHttpRequest=function(b,c,d,e,f){var g=new XMLHttpRequest;if("withCredentials"in g)return g.open(b,this.url,!0),g.timeout=f?f:a.LOCAL_PASSBACK_TIMEOUT,this.contentType?g.setRequestHeader("Content-type",this.contentType):"POST"===b&&g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),g.withCredentials=this.withCredentials,g.onload=function(){4===g.readyState&&200===g.status?c(g.responseText):d(g.readyState,g.status)},g.onerror=function(){d(void 0,void 0)},g.ontimeout=e,g},a.prototype.getXDomainRequest=function(b,c,d,e,f){if("undefined"!=typeof XDomainRequest){var g=new XDomainRequest;return g.timeout=f?f:a.LOCAL_PASSBACK_TIMEOUT,g.open(b,this.url),g.onload=function(){void 0!==g.responseText?c(g.responseText):d(void 0,void 0)},g.onerror&&(g.onerror=function(){d(void 0,void 0)}),g.ontimeout&&(g.ontimeout=e),g}},a.LOCAL_PASSBACK_TIMEOUT=3e4,a}(),D=function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),E=function(a){function d(b,c,e,f,g,h,i,j,k,l){var m=a.call(this,d.NAME)||this;return m.profileId=b,m.urlBuilder=c,m.slots=e,m.metricsManager=new o,m.callbackSuccess=f,m.callbackError=g,m.callbackTimeout=h,m.timeout=i,m.networkId=j,m.integrationMode=k,m.adapterVersion=l,m}return D(d,a),d.useZoneIdIntegration=function(a,b){return void 0===b||0===a.filter(function(a){return void 0!==a.sizes&&a.sizes.length>0}).length},d.prototype.eval=function(a){var b=d.getCriteoAdapterBidRequest(),c=d.getRequestAuctionStart(b),e=f(b&&b.timeout);this.evalWithTimeout(a,e,c)},d.prototype.evalWithTimeout=function(a,d,e){var f=this,g=new u(e,d),h=new p(this.slots,a.context,this.metricsManager,this.urlBuilder,this.profileId,this.integrationMode,this.networkId,this.adapterVersion);if(!h.isValid()||"undefined"==typeof JSON)return void this.callbackError(void 0,void 0);var i=h.getRequest(),j=JSON.stringify(i),k=h.getUrl(),l=new C(k,j,"application/x-www-form-urlencoded");g.sendRequest(k),l.send(function(a){g.requestReceived();var d=b(a)||{},e=c(d);void 0!==f.callbackSuccess&&f.callbackSuccess(JSON.stringify(d),e);var h=e.slots||e.genimpids;g.finish(f.metricsManager,h)},function(a,b){g.requestReceived(),void 0!==f.callbackError&&f.callbackError(a,b),g.finish(f.metricsManager)},function(){g.requestReceived(!0),void 0!==f.callbackTimeout&&f.callbackTimeout(),g.finish(f.metricsManager)},this.timeout)},d.getCriteoAdapterBidRequest=function(){try{return window.pbjs._bidsRequested.find(function(a){return"criteo"===a.bidderCode})}catch(a){return}},d.getRequestAuctionStart=function(a){return a&&a.auctionStart},d.NAME="directbidding",d}(B),F=function(){function a(){}return a.BID_STORAGE_KEY_PREFIX="criteo_pt_cdb_bidcache",a}(),G=function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),H=function(a){function b(b){var c=a.call(this)||this;return c.size=b,c}return G(b,a),b.prototype.toString=function(){return F.BID_STORAGE_KEY_PREFIX+"_Size"+this.size},b}(F),I=function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),J=function(a){function b(b){var c=a.call(this)||this;return c.zoneId=b,c}return I(b,a),b.prototype.toString=function(){return F.BID_STORAGE_KEY_PREFIX+"_ZoneId"+this.zoneId},b}(F),K=function(){function a(a){this.useZoneIdIntegration=a}return a.prototype.createKeysFromSlotRequest=function(a){if(this.useZoneIdIntegration)return[new J(a.zoneId)];for(var b=[],c=0,d=a.sizes;c<d.length;c++){var e=d[c];b.push(new H(e))}return b},a.prototype.createKeyFromSlotResponse=function(a){return this.useZoneIdIntegration?new J(a.zoneid):new H(new z(a.width,a.height))},a}(),L=function(){function a(a){this.localStorageHelper=new n,this.localStorageEnabled=this.localStorageHelper.checkLocalStorage(),this.bidStorageKeyFactory=new K(a)}return a.prototype.getRequestCachedBids=function(a){for(var b=[],c=0,d=a;c<d.length;c++)for(var e=d[c],f=0,g=this.bidStorageKeyFactory.createKeysFromSlotRequest(e);f<g.length;f++){var h=g[f],i=this.getBid(h);void 0!==i&&b.push(i)}return b},a.prototype.getBid=function(a){if(this.localStorageEnabled){var c=this.localStorageHelper.getItem(a.toString());return this.localStorageHelper.removeItem(a.toString()),c?b(c):void 0}},a.prototype.storeResponseBids=function(a,b){if(void 0!==a.slots&&0!==a.slots.length)for(var c=0,d=a.slots;c<d.length;c++){var e=d[c],f=this.bidStorageKeyFactory.createKeyFromSlotResponse(e);this.storeBid(f,e,b)}},a.prototype.storeBid=function(a,b,c){this.localStorageEnabled&&this.localStorageHelper.setItem(a.toString(),JSON.stringify(b),1e3*c)},a}(),M=function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),N=function(a){function b(c,d,e,f,g,h,i,j,k,l){var m=a.call(this,b.NAME)||this;return m.bidManager=new L(E.useZoneIdIntegration(e,j)),m.directBiddingEvent=new E(c,d,e,function(a,b){return m.onSuccess(a,b)},function(a,b){return m.onError(a,b)},function(){return m.onTimeout()},10*i,j,k,l),m.slots=e,m.callbackSuccess=f,m.callbackError=g,m.callbackTimeout=h,m.timeout=i,m.hasTimeouted=!1,m.hasResponded=!1,m}return M(b,a),b.prototype.eval=function(a){var b=this;setTimeout(function(){return b.onTimeout()},this.timeout),this.directBiddingEvent.evalWithTimeout(a,this.timeout)},b.prototype.onSuccess=function(a,b){if(this.hasResponded=!0,void 0!==b){var c=b.bidcachedurationseconds;if(this.hasTimeouted&&c>0){var d=JSON.parse(a);return void this.bidManager.storeResponseBids(d,c)}}this.hasTimeouted||this.callbackSuccess(a,b)},b.prototype.onError=function(a,b){this.hasResponded=!0,this.hasTimeouted||this.callbackError(a,b)},b.prototype.onHttpTimeout=function(){this.hasResponded=!0,this.hasTimeouted||this.callbackTimeout()},b.prototype.onTimeout=function(){if(!this.hasResponded){this.hasTimeouted=!0;var a=this.bidManager.getRequestCachedBids(this.slots);0===a.length?this.callbackTimeout():this.callbackSuccess(JSON.stringify({slots:a}),void 0)}},b.NAME="directbidding",b}(B);!function(a){a[a.Error=0]="Error",a[a.Warning=1]="Warning",a[a.Debug=2]="Debug"}(w||(w={}));var O,P=function(){function a(){}return a.Debug=function(b){window.console&&a.LOGLEVEL>=w.Debug&&console.log("PubTag [DEBUG]:"+b)},a.Warning=function(b){window.console&&a.LOGLEVEL>=w.Warning&&console.log("PubTag [WARNING]:"+b)},a.Error=function(b){a.LOGLEVEL>=w.Error&&(window.console?console.log("PubTag [ERROR]:"+b):alert("PubTag [ERROR]:"+b))},a.LOGLEVEL=w.Error,a}(),Q="criteo_fast_bid",R=function(){function a(){}return a.LoadPolyfills=function(){a.DefineIsArray(),a.DefineIndexOf(),a.DefineFilter()},a.DefineIsArray=function(){Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)})},a.DefineIndexOf=function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===b&&(b=0),void 0===this)throw new TypeError("'this' is null or not defined");var c=this.length;if(0===c)return-1;if(b>=c)return-1;for(var d=Math.max(b>=0?b:c-Math.abs(b),0);d<c;){if(d in this&&this[d]===a)return d;d++}return-1})},a.DefineFilter=function(){Array.prototype.filter||(Array.prototype.filter=function(a){if(void 0===this||void 0===this)throw new TypeError;var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=[],d=arguments.length>=2?arguments[1]:void 0,e=0;e<b;e++)if(e in this){var f=this[e];a.call(d,f,e,this)&&c.push(f)}return c})},a}(),S=function(){function a(){}return a.SetCookie=function(b,c,d,e,f){void 0===f&&(f=!1);var g=e||document,h=new Date;h.setTime(h.getTime()+60*d*60*1e3);var i="expires="+h.toUTCString();if(!f)return a.setCookieString(b,c,i,void 0,g),g.location.hostname;for(var j=g.location.hostname.split("."),k=0;k<j.length;++k){var l=j.slice(j.length-k-1,j.length).join(".");a.setCookieString(b,c,i,l,g);var m=a.GetCookie(b,e);if(m&&m===c)return l}return g.location.hostname},a.DeleteCookie=function(b,c,d){void 0===d&&(d=!1),a.SetCookie(b,"",0,c,d)},a.GetCookie=function(a,b){for(var c=b||document,d=c.cookie.split(";"),e=0,f=d;e<f.length;e++){var g=f[e],h=g.substr(0,g.indexOf("=")).replace(/^\s+|\s+$/g,""),i=g.substr(g.indexOf("=")+1);if(h===a)return decodeURIComponent(i)}},a.setCookieString=function(a,b,c,d,e){var f=a+"="+encodeURIComponent(b)+";"+c+";";d&&""!==d&&(f+="domain=."+d+";"),e.cookie=f+"path=/"},a}(),T=function(){function a(a,b){this.isDebug=b,this.topWin=a,this.topDoc=a.document,this.localStorageHelper=new n(this.topWin),this.localStorageEnabled=this.localStorageHelper.checkLocalStorage()}return a.isSafariBrowser=function(){return null!==navigator.userAgent.match(a.SAFARI_CHECK_REGEX)},a.prototype.synchronizeCriteoUid=function(b){var c=this;if((b||a.isSafariBrowser())&&this.topWin.addEventListener)if("complete"===this.topDoc.readyState)this.appendGumIframeIfDoesNotExist();else{var d=function(){c.topDoc.removeEventListener("DOMContentLoaded",d),c.topWin.removeEventListener("load",d),c.appendGumIframeIfDoesNotExist()};this.topWin.addEventListener("load",d,!1),this.topDoc.addEventListener("DOMContentLoaded",d,!1)}},a.prototype.appendGumIframeIfDoesNotExist=function(){var b=this,c=this.createGumIframe(),d=function(a){var c=a.data;c.isCriteoMessage&&(c.optout?(b.setClientSideOptOut(),b.deleteClientSideUid(),b.deleteClientSideIdfs(),b.deleteClientSideSecureId()):(c.uid&&b.setClientSideUid(c.uid),c.idfs&&b.setClientSideIdfs(c.idfs),c.removeSid?b.deleteClientSideSecureId():c.sid&&b.setClientSideSecureId(c.sid)))};this.topDoc.getElementById(a.SYNCFRAME_ID)||(this.topWin.addEventListener("message",d,!1),this.topDoc.body.appendChild(c))},a.prototype.getClientSideUid=function(){return this.getFromAllStorages(a.GUID_COOKIE_NAME)},a.prototype.setClientSideUid=function(b){this.writeOnAllStorages(a.GUID_COOKIE_NAME,b,a.GUID_RETENTION_TIME_HOUR)},a.prototype.deleteClientSideUid=function(){this.deleteFromAllStorage(a.GUID_COOKIE_NAME)},a.prototype.getClientSideOptOut=function(){var b=this.getFromAllStorages(a.OPTOUT_COOKIE_NAME);return Boolean(b)},a.prototype.setClientSideOptOut=function(){this.writeOnAllStorages(a.OPTOUT_COOKIE_NAME,"1",a.OPTOUT_RETENTION_TIME_HOUR)},a.prototype.deleteClientSideIdfs=function(){this.deleteFromAllStorage(a.IDFS_COOKIE_NAME)},a.prototype.getClientSideIdfs=function(){return this.getFromAllStorages(a.IDFS_COOKIE_NAME)},a.prototype.setClientSideIdfs=function(b){this.writeOnAllStorages(a.IDFS_COOKIE_NAME,b,a.GUID_RETENTION_TIME_HOUR)},a.prototype.getClientSideSecureId=function(){return this.getFromAllStorages(a.SECURE_ID_COOKIE_NAME)},a.prototype.setClientSideSecureId=function(b){this.writeOnAllStorages(a.SECURE_ID_COOKIE_NAME,b,a.GUID_RETENTION_TIME_HOUR)},a.prototype.deleteClientSideSecureId=function(){this.deleteFromAllStorage(a.SECURE_ID_COOKIE_NAME)},a.prototype.getLocalWebId=function(){var b=this.getFromAllStorages(a.LOCAL_WEB_ID_COOKIE_NAME);return b||(b=i(),this.writeOnAllStorages(a.LOCAL_WEB_ID_COOKIE_NAME,b,a.GUID_RETENTION_TIME_HOUR)),b},a.prototype.createGumIframe=function(){var b=this.topDoc.createElement("iframe"),c=this.buildSyncframeSrc();return b.src=c,b.id=a.SYNCFRAME_ID,b.style.display="none",b},a.prototype.writeOnAllStorages=function(a,b,c){this.localStorageEnabled&&this.localStorageHelper.setItem(a,b),S.SetCookie(a,b,c,this.topDoc,!0)},a.prototype.getFromAllStorages=function(a){var b,c=S.GetCookie(a,this.topWin.document);return this.localStorageEnabled&&(b=this.localStorageHelper.getItem(a)),c||b},a.prototype.deleteFromAllStorage=function(a){S.DeleteCookie(a,this.topDoc,!0),this.localStorageEnabled&&this.localStorageHelper.removeItem(a)},a.prototype.getTld=function(){var b=S.SetCookie(a.TLD_TEST_COOKIE_NAME,"test",1,this.topDoc,!0);return S.DeleteCookie(a.TLD_TEST_COOKIE_NAME,this.topDoc,!0),b},a.prototype.buildSyncframeSrc=function(){var a="https://gum.criteo.com/syncframe"+(this.isDebug?"?debug=1":""),b=this.getClientSideUid(),c=this.getClientSideIdfs(),d=this.getClientSideOptOut(),e=this.getClientSideSecureId(),f=this.getLocalWebId(),g=this.getTld(),h="publishertag",i=x;return a+="#"+JSON.stringify({optout:d,uid:b,idfs:c,sid:e,origin:h,version:i,lwid:f,tld:g})},a.GUID_COOKIE_NAME="cto_idcpy",a.GUID_RETENTION_TIME_HOUR=9360,a.IDFS_COOKIE_NAME="cto_idfs",a.SECURE_ID_COOKIE_NAME="cto_sid",a.LOCAL_WEB_ID_COOKIE_NAME="cto_lwid",a.OPTOUT_COOKIE_NAME="cto_optout",a.OPTOUT_RETENTION_TIME_HOUR=43200,a.TLD_TEST_COOKIE_NAME="cto_pub_test_tld",a.SYNCFRAME_ID="criteo-syncframe",a.SAFARI_CHECK_REGEX=/^Mozilla\/5\.0 \([^)]+\) AppleWebKit\/[^ ]+ \(KHTML, like Gecko\) Version\/([^ ]+)( Mobile\/[^ ]+)? Safari\/[^ ]+$/i,a}(),U=function(){function a(){}return a.getHighestAccessibleWindow=function(a){var b=a,c=!1;try{for(;b.parent.document!==b.document;){if(!b.parent.document){c=!0;break}b=b.parent}}catch(a){c=!0}return{topFrame:b,err:c}},a.inIframe=function(){try{return window.self!==window.top}catch(a){return!0}},a}();!function(a){a[a.InFriendlyIframe=1]="InFriendlyIframe",a[a.InUnfriendlyIframe=2]="InUnfriendlyIframe",a[a.DirectIntegration=3]="DirectIntegration"}(O||(O={}));var V=function(){function a(a,b){this.charset=a.charset?a.charset:a.characterSet?a.characterSet:"";var c=U.getHighestAccessibleWindow(b);this.synchronizeCriteoUid(c),this.displayContext=this.getDisplayContext(c),this.highestAccessibleUrl=this.getHighestAccessibleUrl(c);var d=this.getQueryStringParams(this.highestAccessibleUrl);this.debugMode="1"===d.pbt_debug||!1,this.noLog="1"===d.pbt_nolog||!1,this.debugMode&&g(w.Debug),this.location=b.location,this.protocol=b.location.protocol,this.dising=!1,this.ct0=void 0,this.wpdt0=void 0,this.isAdBlocked=void 0,this.rtaVarNames=[]}return a.prototype.getContextFlags=function(){var a="";return a+=this.debugMode?"&debug=1":"",a+=this.noLog?"&nolog=1":""},a.prototype.getHighestAccessibleUrl=function(a){var b=a.topFrame,c=a.err,d="";if(c)try{if(d=b.top.location.href,!d){var e=b.location.ancestorOrigins;d=e[e.length-1]}}catch(a){d=b.document.referrer}else d=b.location.href;return d},a.prototype.getDisplayContext=function(a){return U.inIframe()?a.err?O.InUnfriendlyIframe:O.InFriendlyIframe:O.DirectIntegration},a.prototype.getQueryStringParams=function(a){var b={},c=a.split("?");if(c.length>1)for(var d=c[1].split("&"),e=0,f=d;e<f.length;e++){var g=f[e],h=g.split("=");b[j(h[0])]=j(h[1])}return b},a.prototype.synchronizeCriteoUid=function(a){var b=a.topFrame,c=new T(b,this.debugMode);this.ctoIdOnPublisherDomain=c.getClientSideUid(),this.isOptOut=c.getClientSideOptOut(),this.idfs=c.getClientSideIdfs(),this.secureId=c.getClientSideSecureId(),c.synchronizeCriteoUid()},a.prototype.getIdfs=function(){return this.idfs},a.prototype.setIdfs=function(a){this.idfs=a},a}(),W=function(){function a(){this.bids={},this.lineItemRanges=[],this.impIds=[]}return a}(),X=function(){function a(){this.standaloneBidder=new W,this.events=[],this.context=new V(document,window),P.Debug("Publisher Tag loaded")}return a.prototype.push=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var c=0,d=a;c<d.length;c++){var e=d[c];this.events.push(e)}this.evalEvents()},a.prototype.evalEvents=function(){for(var a=0;a<this.events.length;){var b=this.events[a];if(k(b)&&!b.canEval())a++;else{var c=this.events.splice(a,1);c[0].eval(this)}}},a.VERSION=x,a}();window.criteo_pubtag||(R.LoadPolyfills(),window.criteo_pubtag=new X),window.Criteo={PubTag:{Adapters:{Prebid:A},DirectBidding:{DirectBiddingEvent:E,DirectBiddingEventWithCaching:N,DirectBiddingSlot:q,DirectBiddingUrlBuilder:y,Size:z}},events:window.Criteo?window.Criteo.events:[],usePrebidEvents:!window.Criteo||window.Criteo.usePrebidEvents},window.Criteo.usePrebidEvents!==!1&&(window.Criteo.events=l(window.Criteo.events)),h()}();